{"version":3,"sources":["main.js"],"names":["weather","apiKey","city","_this","this","fetchWeather","alert","response","ok","Error","then","json","data","displayWeather","name","_data$weather$","icon","description","_data$main","main","temp","humidity","wind","document","querySelector","innerText","src","speed","remove","backgroundImage","search","value","GetInfo","newName","getElementById","innerHTML","fetch","console","log","i","Number","list","temp_min","toFixed","DefaultScreen","temp_max","weekday","d","getDay","err","defaultValue","addEventListener","key","cityName","event","Math","CheckDay","round"],"mappings":"aAAA,IAAIA,QAAU,CACVC,OAAQ,mCADRD,aAAU,SAAAE,GAAA,IAAAC,EAAAC,KACVH,MACAI,qDAA8BH,EAIzB,uBAFDE,KAAAH,QAOIK,KAAM,SAAAC,GACN,IAAMA,EAAUC,GAAhB,MACDF,MAAA,qBADO,IAAIG,MAAM,qBAInBC,OAAKH,EAAAI,SAbRD,KAAA,SAAAE,GAAA,OAAAT,EAAAU,eAAAD,MAeFC,eAAgB,SAAAD,GAAA,IAAgBE,EACtBA,EADsBA,KAAhBC,EAEqBf,EAFLA,QAAA,GAAAgB,EAAhBD,EAAgBC,KAAAC,EAAhBF,EAAgBE,YAAhBC,EAENF,EAFsBG,KAAAC,EAAhBF,EAAgBE,KAAAC,EAAhBH,EAAgBG,SAEhBJ,EAFgBL,EAAAU,KAEhBL,MAFgBM,SAAAC,cAGEL,aAHFM,UAAA,cAAAX,EAAAS,SAAAC,cAGtBJ,SAHsBM,IAGhBL,qCAHgBL,EAAA,OAAAO,SAAAC,cAItBG,gBAJsBF,UAAAR,EAK9BM,SAASC,cAAc,SAAvBC,UAAAL,EAAgD,KAChDG,SAASC,cAAc,aACrBC,UACFF,aAASC,EAAc,IACvBD,SAASC,cAAc,SAASC,UAChCF,eAASC,EAAc,QAEvBD,SAASC,cAAc,YAASC,UAC9BG,OAAA,WACFL,SAASC,KAAAA,MAATK,gBACAN,8CACET,EAAA,MAEJgB,OAAQ,WACN1B,KAAKC,aAAakB,SAASC,cAAc,eAAeO,SAqCzD,SAAAC,UAED,IAAAC,EAAYV,SAAZW,eAAoB,aACPA,SAAAA,eAA0B,YAGvCC,UAAA,KAAAF,EAAAF,MAAA,KAdJK,MAAM,sDAAsDH,EAAQF,MAAM,2CAerErB,KAAA,SAAAH,GAAA,OAAYA,EAAZI,SACGY,KAAAA,SAAAA,GAIJc,IAAAA,EAAQC,EAARC,EAAY3B,EAAZ2B,IApBJhB,SAwBOW,eAAG,OAAAK,EAAA,GAAA,OAAAJ,UAAA,QAAAK,OAAA5B,EAAA6B,KAAAF,GAAApB,KAAAuB,SAAA,QAAAC,QAAA,GAAA,KAdN,IAAIJ,EAAI,EAAGA,EAAE,EAAGA,IAiBpBhB,SAASqB,eAAe,OAAAL,EAAA,GAAA,OAAAJ,UAAA,QAAAK,OAAA5B,EAAA6B,KAAAF,GAAApB,KAAA0B,SAAA,QAAAF,QAAA,GAAA,KAZnB,IAAIJ,EAAI,EAAGA,EAAE,EAAGA,IAkBbhB,SAAAW,eAAR,OAAAK,EAAA,IAAAb,IAAA,qCACIoB,EAAOL,KAAIF,GAAAvC,QAAU,GAAAgB,KAhBhB,OAoBLqB,QAASU,IAAEC,KAtCf,MA2CK,SAAAC,GAAA,OAAA3C,MAAA,aAGD,SAAQsC,gBACJrB,SAASW,eAAe,aAAxBgB,aAAmDJ,YACtDd,UAnEHT,SACGC,cAAc,kBACd2B,iBAAiB,QAAS,WACzBnD,QAAUoD,SAAOpD,QAASqD,aAH9B9B,SAQAvB,cAAQK,eANL8C,iBAAiB,QAAS,SAAUG,GAWtB,SAAVtB,EAAToB,KAEQnB,QAAUV,WAKJvB,QAAAK,aAAaM,aAqD3BY,IAAAA,EAAQ,IAACW,KACTX,QAASW,CAAAA,SAAe,aAAWC,UAAYoB,YAAgBd,WAAL,SAAA,YAI1DlB,SAASW,SAAAA,GACTX,OAAwB,EAAxBA,EAASW,EAAAA,SACAA,EAAAA,EAATc,SAAA,EAGSd,EAAAA,EAATc,SAWAzB,IAAQgB,EAACL,EAAAA,EAAAA,EAAAA,IAGDX,SAACW,eAAuBR,OAAMa,EAAA,IAAAJ,UAAAW,QAAAU,SACtC5C,IAUAW,SAASW,eAAe,WAAQC,UAAYW,KAAQU,MAAAA,KAADf,KAAnD,GAAAtB,KAAAuB,SAAA,QAAA,GACAnB,SAASW,eAAe,WAAQC,UAAYW,KAAQU,MAAAA,KAADf,KAAnD,GAAAtB,KAAAuB,SAAA,QAAA,GACAnB,SAASW,eAAe,WAAQC,UAAYW,KAAQU,MAAAA,KAADf,KAAnD,GAAAtB,KAAAuB,SAAA,QAAA,GAEAI,SAAOZ,eAAP,WAAAC,UAAAoB,KAAAE,MAAA7C,KAAA6B,KAAA,GAAAtB,KAAAuB,SAAA,QAAA,GACAI,SAAOZ,eAAP,WAAAC,UAAAoB,KAAAE,MAAA7C,KAAA6B,KAAA,GAAAtB,KAAAuB,SAAA,QAAA,GACAI,SAAOZ,eAAP,WAAAC,UAAAoB,KAAAE,MAAA7C,KAAA6B,KAAA,GAAAtB,KAAAuB,SAAA,QAAA,GAEAI,SAAOZ,eAAP,WAAAC,UAAAoB,KAAAE,MAAA7C,KAAA6B,KAAA,GAAAtB,KAAA0B,SAAA,QAAA,GACAC,SAAOZ,eAAP,WAAAC,UAAAoB,KAAAE,MAAA7C,KAAA6B,KAAA,GAAAtB,KAAA0B,SAAA,QAAA,GACAC,SAAOZ,eAAP,WAAAC,UAAAoB,KAAAE,MAAA7C,KAAA6B,KAAA,GAAAtB,KAAA0B,SAAA,QAAA,GAGAtB,SAASC,eAAc,WAAAW,UAAkBgB,KAAAA,MAAiBvC,KAAA6B,KAAS,GAAAtB,KAAA0B,SAAY,QAAA,GAC3E7C,SAAOkC,eAAP,WAAAC,UAAAoB,KAAAE,MAAA7C,KAAA6B,KAAA,GAAAtB,KAAA0B,SAAA,QAAA,GACDtB,SAFHW,eAAA,WAAAC,UAAAoB,KAAAE,MAAA7C,KAAA6B,KAAA,GAAAtB,KAAA0B,SAAA,QAAA,GAOMtB,SAAI+B,eAAa,QAAS5B,IAAA,mCACxB1B,KAAAA,KAAAA,GAAQ8B,QAAR,GAAAd,KACD,OACFO,SANHW,eAAA,QAAAR,IAAA,mCApCFd,KAAK6B,KAAK,GAAGzC,QAAQ,GAAGgB,KACvB,OACDO,SAASW,eAAe,QAAQR,IAAM,mCACtCd,KAAK6B,KAAK,GAAGzC,QAAQ,GAAGgB,KACvB,OACDO,SAASW,eAAe,QAAQR,IAAM,mCACtCd,KAAK6B,KAAK,GAAGzC,QAAQ,GAAGgB,KACvB,OACDO,SAASW,eAAe,QAAQR,IAAM,mCACtCd,KAAK6B,KAAK,GAAGzC,QAAQ,GAAGgB,KACvB,OACDO,SAASW,eAAe,QAAQR,IAAM,mCACtCd,KAAK6B,KAAK,GAAGzC,QAAQ,GAAGgB,KACvB,OAGDO,SAASW,eAAe,QAAQC,UAAYW,QAAQU,SAAS,IAC7DjC,SAASW,eAAe,QAAQC,UAAYW,QAAQU,SAAS,IAC7DjC,SAASW,eAAe,QAAQC,UAAYW,QAAQU,SAAS,IAC7DjC,SAASW,eAAe,QAAQC,UAAYW,QAAQU,SAAS,IAC7DjC,SAASW,eAAe,QAAQC,UAAYW,QAAQU,SAAS,IAC7DjC,SAASW,eAAe,QAAQC,UAAYW,QAAQU,SAAS,IAE7DV,QAAQ,GAAK,SACbA,QAAQ,GAAK,SACbA,QAAQ,GAAK,UACbA,QAAQ,GAAK,YACbA,QAAQ,GAAK,WACbA,QAAQ,GAAK,SACbA,QAAQ,GAAK,WAGbvB,SAASC,cAAc,kBAAkB2B,iBAAiB,QAAS,WAC/DnD,QAAQqD,aAGV9B,SACGC,cAAc,eACd2B,iBAAiB,QAAS,SAAUG,GAClB,SAAbA,EAAMF,KACRpD,QAAQ8B","file":"main.min.js","sourcesContent":["let weather = {\r\n    apiKey: \"f1ef083469f775e03b27db4a7c885273\",\r\n    fetchWeather: function (city) { \r\n      fetch(\r\n        \"https://api.openweathermap.org/data/2.5/weather?q=\" +\r\n          city +\r\n         \"&units=metric&appid=\" +\r\n          this.apiKey\r\n      )\r\n        .then((response) => {\r\n          if (!response.ok) {\r\n            alert(\"No weather found.\");\r\n            throw new Error(\"No weather found.\");\r\n          }\r\n          return response.json();\r\n        })\r\n        .then((data) => this.displayWeather(data));\r\n    },\r\n    displayWeather: function (data) {\r\n      const { name } = data;\r\n      const { icon, description } = data.weather[0];\r\n      const { temp, humidity } = data.main;\r\n      const { speed } = data.wind;\r\n      document.querySelector(\".cityName\").innerText = \"Weather in \" + name;\r\n      document.querySelector(\".icon\").src =\r\n        \"https://openweathermap.org/img/wn/\" + icon + \".png\";\r\n      document.querySelector(\".description\").innerText = description;\r\n      document.querySelector(\".temp\").innerText = temp + \"°C\";\r\n      document.querySelector(\".humidity\").innerText =\r\n        \"Humidity: \" + humidity + \"%\";\r\n      document.querySelector(\".wind\").innerText =\r\n        \"Wind speed: \" + speed + \" km/h\";\r\n      document.querySelector(\".weather\").classList.remove(\"loading\");\r\n      document.body.style.backgroundImage =\r\n        \"url('https://source.unsplash.com/1600x900/?\" + name + \"')\";\r\n    },\r\n    search: function () {\r\n      this.fetchWeather(document.querySelector(\".search-bar\").value);\r\n    },\r\n    \r\n};\r\n\r\n\r\ndocument.querySelector(\".search button\").addEventListener(\"click\", function () {\r\n    weather.search(),weather.cityName();\r\n  });\r\n  \r\n  document\r\n    .querySelector(\".search-bar\")\r\n    .addEventListener(\"keyup\", function (event) {\r\n      if (event.key == \"Enter\") {\r\n        weather.search();\r\n      }\r\n    });\r\n  \r\n  weather.fetchWeather(\"Bangalore\");\r\n\r\n\r\n\r\n\r\nfunction GetInfo() {\r\n\r\n    var newName = document.getElementById(\"cityInput\");\r\n    var cityName = document.getElementById(\"cityName\");\r\n    cityName.innerHTML = \"--\"+newName.value+\"--\";\r\n\r\nfetch('https://api.openweathermap.org/data/2.5/forecast?q='+newName.value+'&appid=32ba0bfed592484379e51106cef3f204')\r\n.then(response => response.json())\r\n.then(data => {\r\n\r\n    //Getting the min and max values for each day\r\n    for(i = 0; i<6; i++){\r\n        document.getElementById(\"day\" + (i+1) + \"Min\").innerHTML = \"Min: \" + Number(data.list[i].main.temp_min - 273.15).toFixed(1)+ \"°C\";\r\n        //Number(1.3450001).toFixed(2); // 1.35\r\n    }\r\n\r\n    for(i = 0; i<5; i++){\r\n        document.getElementById(\"day\" + (i+1) + \"Max\").innerHTML = \"Max: \" + Number(data.list[i].main.temp_max - 273.15).toFixed(2) + \"°C\";\r\n    }\r\n\r\n    // Weather Icons\r\n     for(i = 0; i<6; i++){\r\n        document.getElementById(\"img\" + (i+1)).src = \"https://openweathermap.org/img/wn/\"+\r\n        data.list[i].weather[0].icon\r\n        +\".png\";\r\n    }\r\n    console.log(data)\r\n\r\n})\r\n\r\n.catch(err => alert(\"Confirm\"))\r\n}\r\n\r\nfunction DefaultScreen(){\r\n    document.getElementById(\"cityInput\").defaultValue = \"Bangalore\";\r\n    GetInfo();\r\n}\r\n\r\n\r\nvar d = new Date();\r\nvar weekday = [\"Sunday\", \"  Monday  \", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\",];\r\n\r\n\r\nfunction CheckDay(day){\r\n    if(day + d.getDay() > 6){\r\n        return day + d.getDay() - 7;\r\n    }\r\n    else{\r\n        return day + d.getDay();\r\n    }\r\n}\r\n\r\n    for(i = 0; i<6; i++){\r\n        document.getElementById(\"day\" + (i+1)).innerHTML = weekday[CheckDay(i)];\r\n    }\r\n\r\n\r\n\r\ndocument.getElementById(\"day1Min\").innerHTML = Math.round(data.list[0].main.temp_min - 273.15, -2);\r\ndocument.getElementById(\"day2Min\").innerHTML = Math.round(data.list[1].main.temp_min - 273.15, -2);\r\ndocument.getElementById(\"day3Min\").innerHTML = Math.round(data.list[2].main.temp_min - 273.15, -2);\r\ndocument.getElementById(\"day4Min\").innerHTML = Math.round(data.list[3].main.temp_min - 273.15, -2);\r\ndocument.getElementById(\"day5Min\").innerHTML = Math.round(data.list[4].main.temp_min - 273.15, -2);\r\ndocument.getElementById(\"day6Min\").innerHTML = Math.round(data.list[5].main.temp_min - 273.15, -2);\r\n\r\ndocument.getElementById(\"day1Max\").innerHTML = Math.round(data.list[0].main.temp_max - 273.15, -2);\r\ndocument.getElementById(\"day2Max\").innerHTML = Math.round(data.list[0].main.temp_max - 273.15, -2);\r\ndocument.getElementById(\"day3Max\").innerHTML = Math.round(data.list[0].main.temp_max - 273.15, -2);\r\ndocument.getElementById(\"day4Max\").innerHTML = Math.round(data.list[0].main.temp_max - 273.15, -2);\r\ndocument.getElementById(\"day5Max\").innerHTML = Math.round(data.list[0].main.temp_max - 273.15, -2);\r\ndocument.getElementById(\"day6Max\").innerHTML = Math.round(data.list[0].main.temp_max - 273.15, -2);\r\n\r\ndocument.getElementById(\"img1\").src = \"http://openweathermap.org/img/w/\"+\r\ndata.list[0].weather[0].icon\r\n+\".png\";\r\ndocument.getElementById(\"img2\").src = \"http://openweathermap.org/img/w/\"+\r\ndata.list[1].weather[0].icon\r\n+\".png\";\r\ndocument.getElementById(\"img3\").src = \"http://openweathermap.org/img/w/\"+\r\ndata.list[2].weather[0].icon\r\n+\".png\";\r\ndocument.getElementById(\"img4\").src = \"http://openweathermap.org/img/w/\"+\r\ndata.list[3].weather[0].icon\r\n+\".png\";\r\ndocument.getElementById(\"img5\").src = \"http://openweathermap.org/img/w/\"+\r\ndata.list[4].weather[0].icon\r\n+\".png\";\r\ndocument.getElementById(\"img6\").src = \"http://openweathermap.org/img/w/\"+\r\ndata.list[5].weather[0].icon\r\n+\".png\";\r\n\r\n\r\ndocument.getElementById(\"day1\").innerHTML = weekday[CheckDay(0)];\r\ndocument.getElementById(\"day2\").innerHTML = weekday[CheckDay(1)];\r\ndocument.getElementById(\"day3\").innerHTML = weekday[CheckDay(2)];\r\ndocument.getElementById(\"day4\").innerHTML = weekday[CheckDay(3)];\r\ndocument.getElementById(\"day5\").innerHTML = weekday[CheckDay(4)];\r\ndocument.getElementById(\"day6\").innerHTML = weekday[CheckDay(5)];\r\n\r\nweekday[0] = \"Sunday\";\r\nweekday[1] = \"Monday\";\r\nweekday[2] = \"Tuesday\";\r\nweekday[3] = \"Wednesday\";\r\nweekday[4] = \"Thursday\";\r\nweekday[5] = \"Friday\";\r\nweekday[6] = \"Saturday\";\r\n\r\n\r\ndocument.querySelector(\".search button\").addEventListener(\"click\", function () {\r\n    weather.cityName();\r\n  });\r\n  \r\n  document\r\n    .querySelector(\".search-bar\")\r\n    .addEventListener(\"keyup\", function (event) {\r\n      if (event.key == \"Enter\") {\r\n        weather.search();\r\n      }\r\n    });\r\n"]}